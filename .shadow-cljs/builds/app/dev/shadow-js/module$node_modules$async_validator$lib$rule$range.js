["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/async-validator/lib/rule/range.js"],"~:js","shadow$provide.module$node_modules$async_validator$lib$rule$range=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,\"__esModule\",{value:!0});var util=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj[\"default\"]=obj;return newObj}(require(\"module$node_modules$async_validator$lib$util\"));exports[\"default\"]=function(rule,value,source,errors,\noptions){source=\"number\"===typeof rule.len;var min=\"number\"===typeof rule.min,max=\"number\"===typeof rule.max,spRegexp=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,val=value,key=null,num=\"number\"===typeof value,str=\"string\"===typeof value,arr=Array.isArray(value);num?key=\"number\":str?key=\"string\":arr&&(key=\"array\");if(!key)return!1;arr&&(val=value.length);str&&(val=value.replace(spRegexp,\"_\").length);source?val!==rule.len&&errors.push(util.format(options.messages[key].len,rule.fullField,rule.len)):min&&!max&&\nval<rule.min?errors.push(util.format(options.messages[key].min,rule.fullField,rule.min)):max&&!min&&val>rule.max?errors.push(util.format(options.messages[key].max,rule.fullField,rule.max)):min&&max&&(val<rule.min||val>rule.max)&&errors.push(util.format(options.messages[key].range,rule.fullField,rule.min,rule.max))};module.exports=exports[\"default\"]}","~:source","shadow$provide[\"module$node_modules$async_validator$lib$rule$range\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/**\n *  Rule for validating minimum and maximum allowed values.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction range(rule, value, source, errors, options) {\n  var len = typeof rule.len === 'number';\n  var min = typeof rule.min === 'number';\n  var max = typeof rule.max === 'number';\n  // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）\n  var spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var val = value;\n  var key = null;\n  var num = typeof value === 'number';\n  var str = typeof value === 'string';\n  var arr = Array.isArray(value);\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  }\n  // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n  if (!key) {\n    return false;\n  }\n  if (arr) {\n    val = value.length;\n  }\n  if (str) {\n    // 处理码点大于U+010000的文字length属性不准确的bug，如\"\uD842\uDFB7\uD842\uDFB7\uD842\uDFB7\".lenght !== 3\n    val = value.replace(spRegexp, '_').length;\n  }\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(util.format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(util.format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(util.format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(util.format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n  }\n}\n\nexports['default'] = range;\nmodule.exports = exports['default'];\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$async_validator$lib$util","~$shadow.js"]],"~:properties",["^5",["__esModule","value"]],"~:compiled-at",1532351402012,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$async_validator$lib$rule$range.js\",\n\"lineCount\":3,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/async-validator/lib/rule/range.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$async_validator$lib$rule$range\\\"] = function(global,process,require,module,exports,shadow$shims) {\\n'use strict';\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _util = require('../util');\\n\\nvar util = _interopRequireWildcard(_util);\\n\\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\\n\\n/**\\n *  Rule for validating minimum and maximum allowed values.\\n *\\n *  @param rule The validation rule.\\n *  @param value The value of the field on the source object.\\n *  @param source The source object being validated.\\n *  @param errors An array of errors that this rule may add\\n *  validation errors to.\\n *  @param options The validation options.\\n *  @param options.messages The validation messages.\\n */\\nfunction range(rule, value, source, errors, options) {\\n  var len = typeof rule.len === 'number';\\n  var min = typeof rule.min === 'number';\\n  var max = typeof rule.max === 'number';\\n  // \\u6b63\\u5219\\u5339\\u914d\\u7801\\u70b9\\u8303\\u56f4\\u4eceU+010000\\u4e00\\u76f4\\u5230U+10FFFF\\u7684\\u6587\\u5b57\\uff08\\u8865\\u5145\\u5e73\\u9762Supplementary Plane\\uff09\\n  var spRegexp = /[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]/g;\\n  var val = value;\\n  var key = null;\\n  var num = typeof value === 'number';\\n  var str = typeof value === 'string';\\n  var arr = Array.isArray(value);\\n  if (num) {\\n    key = 'number';\\n  } else if (str) {\\n    key = 'string';\\n  } else if (arr) {\\n    key = 'array';\\n  }\\n  // if the value is not of a supported type for range validation\\n  // the validation rule rule should use the\\n  // type property to also test for a particular type\\n  if (!key) {\\n    return false;\\n  }\\n  if (arr) {\\n    val = value.length;\\n  }\\n  if (str) {\\n    // \\u5904\\u7406\\u7801\\u70b9\\u5927\\u4e8eU+010000\\u7684\\u6587\\u5b57length\\u5c5e\\u6027\\u4e0d\\u51c6\\u786e\\u7684bug\\uff0c\\u5982\\\"\\ud842\\udfb7\\ud842\\udfb7\\ud842\\udfb7\\\".lenght !== 3\\n    val = value.replace(spRegexp, '_').length;\\n  }\\n  if (len) {\\n    if (val !== rule.len) {\\n      errors.push(util.format(options.messages[key].len, rule.fullField, rule.len));\\n    }\\n  } else if (min && !max && val < rule.min) {\\n    errors.push(util.format(options.messages[key].min, rule.fullField, rule.min));\\n  } else if (max && !min && val > rule.max) {\\n    errors.push(util.format(options.messages[key].max, rule.fullField, rule.max));\\n  } else if (min && max && (val < rule.min || val > rule.max)) {\\n    errors.push(util.format(options.messages[key].range, rule.fullField, rule.min, rule.max));\\n  }\\n}\\n\\nexports['default'] = range;\\nmodule.exports = exports['default'];\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"process\",\"require\",\"module\",\"exports\",\"shadow$shims\",\"Object\",\"defineProperty\",\"value\",\"util\",\"_interopRequireWildcard\",\"obj\",\"__esModule\",\"newObj\",\"key\",\"prototype\",\"hasOwnProperty\",\"call\",\"_util\",\"range\",\"rule\",\"source\",\"errors\",\"options\",\"len\",\"min\",\"max\",\"spRegexp\",\"val\",\"num\",\"str\",\"arr\",\"Array\",\"isArray\",\"length\",\"replace\",\"push\",\"format\",\"messages\",\"fullField\"]\n}\n"]